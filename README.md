# Masked-3DGS: 基于蒙版的 3D 高斯场景选择性重建

本代码库是 **Masked-3DGS**，一个对原始 **3D Gaussian Splatting** 项目的扩展。本工作的核心创新在于实现了**基于 2D 蒙版的选择性 3D 场景重建**。这一功能使得模型能够将其注意力和计算资源完全集中在用户定义的目标区域，从而忽略场景中的无关部分。

该功能主要通过对原始代码库的三项关键修改来实现：

1.  **修改版 CUDA 光栅化器**：我们替换了原始的光栅化器。新版本能够输出渲染图像的 alpha 通道（透明度信息），这对于将模型渲染结果与输入蒙版进行比较至关重要。
2.  **蒙版数据通路**：我们引入了新的数据加载流程。通过使用 `--masks <蒙版路径>` 命令行参数，您现在可以提供一个与输入图像相对应的二进制蒙版目录。系统会自动加载这些蒙版，并在训练过程中使用它们。
3.  **Alpha 损失函数**：我们增加了一个新的损失项，由超参数 `--lambda_alpha` 控制。该损失函数会惩罚在蒙版区域之外进行重建的行为。具体来说，它会促使渲染结果中对应于蒙版“忽略”区域的 alpha 值为零。

## 快速开始：使用蒙版进行训练

要使用蒙版训练 3DGS 模型，您首先需要准备一个包含蒙版图像的目录。这些蒙版应为灰度图，其中白色像素（或值接近 1）代表感兴趣的区域，而黑色像素（或值接近 0）则代表应被忽略的区域。蒙版的文件名应与您的输入图像文件名相对应。

然后，您可以使用以下新增的参数来运行训练脚本：

```bash
python train.py -s <COLMAP 数据集路径> --masks <蒙版目录路径> --lambda_alpha 0.1
```

-   `--masks`: 指定包含蒙版图像的目录路径。
-   `--lambda_alpha`: 设置 alpha 损失的权重。较高的值会更强力地执行蒙版约束。`0.1` 是一个不错的初始值。

## 关于原始 3D Gaussian Splatting 项目

本项目直接构建于 Kerbl 等人开创性的研究之上。关于原始 3D Gaussian Splatting 方法的详细信息，包括环境设置、先决条件和高级用法，请参阅[原始 README 文件](README_original_3dgs.md)。
